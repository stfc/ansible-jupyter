- hosts: localhost # Kubectl is configured from this machine
  roles:
    - deploy_hub
    # - deploy_prometheus_stack
  vars:
    # Helm name of the service
    hub_deployed_name: daskhub
    # K8s namespace
    hub_namespace: daskhub
    # Helm chart version for Jhub (newer version may require newer kubernetes version >=1.17)
    hub_version: "2022.8.1"
    # config file for DaskHub helm chart (in "/roles/deploy_daskhub/files")
    hub_config_file: ../deploy_daskhub/files/config.yaml
    # Name of DaskHub cluster used in load balancer names
    hub_cluster_name: daskhub_cluster
    # Name of repository
    hub_repo_name: dask
    # Helm chart repository URL for DaskHub
    hub_repo_url: https://helm.dask.org/
    # Chart reference for DaskHub
    hub_chart_ref: dask/daskhub

    # Helm name of the prometheus service
    prometheus_deployed_name: prometheus
    # K8s namespace
    prometheus_namespace: prometheus
    # Grafana dashboard admin password
    grafana_password: "temp_password"

    # Even if you don't use GPUs we deploy the Nvidia GPU operator
    # for simplicity (otherwise we need another var to enable GPU support across notebooks).

    # This version will be pulled from the Nvidia NGC catalogue
    NVIDIA_DRIVER_VERSION: 515.48.07
